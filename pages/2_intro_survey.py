import streamlit as st

st.set_page_config(page_title="ESG å‰å°å•å·", layout="centered")

if "user_name" not in st.session_state:
    st.warning("âš ï¸ è«‹å…ˆå¾ welcome é–‹å§‹å¡«å¯«åŸºæœ¬è³‡æ–™ã€‚")
    st.stop()

st.markdown("## ğŸ§  ESG å•å·å‰å°èª¿æŸ¥")
st.markdown("""
åœ¨é€²è¡Œ ESG æ™ºèƒ½è¨ºæ–·å‰ï¼Œæˆ‘å€‘æœƒå…ˆäº†è§£æ‚¨çš„èƒŒæ™¯ã€å‹•æ©Ÿèˆ‡å­¸ç¿’åå¥½ï¼Œä»¥æä¾›æ›´è²¼è¿‘çš„å»ºè­°èˆ‡å›æ‡‰æ–¹å¼ã€‚
è«‹ä¾æ“šæ‚¨çš„å¯¦éš›ç‹€æ³ä½œç­”ï¼š
""")

with st.form("intro_survey_form"):
    survey_data = {}

    survey_data["q1"] = st.radio("1ï¸âƒ£ æ‚¨å°æº«å®¤æ°£é«”ç›¤æŸ¥çš„èªçŸ¥ç‚ºä½•ï¼Ÿ", [
        "å®Œå…¨ä¸äº†è§£",
        "çŸ¥é“åç¨±ä½†ä¸ç†Ÿå…§å®¹",
        "çŸ¥é“æ¦‚å¿µä½†ä¸ç†Ÿå¯¦å‹™",
        "æ›¾ç¶“åƒèˆ‡ç¢³ç›¤æŸ¥",
        "éå¸¸ç†Ÿæ‚‰ä¸¦å¯æ•™å­¸"
    ])

    survey_data["q2"] = st.radio("2ï¸âƒ£ æ‚¨ä½¿ç”¨æœ¬ç³»çµ±çš„ä¸»è¦å‹•æ©Ÿç‚ºï¼Ÿ", [
        "å€‹äººå­¸ç¿’ ESG çŸ¥è­˜",
        "å¹«åŠ©å…¬å¸ç›¤æŸ¥èˆ‡å› æ‡‰å£“åŠ›",
        "æº–å‚™è€ƒè©¦æˆ–è­‰ç…§",
        "å¥½å¥‡è©¦ç”¨"
    ])

    survey_data["q3"] = st.multiselect("3ï¸âƒ£ æ‚¨ç›®å‰é¢è‡¨å“ªäº›æ°¸çºŒå£“åŠ›ï¼Ÿ", [
        "æ”¿åºœæ³•è¦æˆ–ç¨½æŸ¥",
        "å®¢æˆ¶æˆ–ä¾›æ‡‰éˆè¦æ±‚",
        "å…§éƒ¨ ESG æ‰¿è«¾æˆ–ç›®æ¨™",
        "å°šæœªæ„Ÿå—åˆ°å£“åŠ›"
    ])

    survey_data["q4"] = st.radio("4ï¸âƒ£ æ‚¨çš„è§’è‰²æˆ–èº«åˆ†æ˜¯ï¼Ÿ", [
        "è€é—† / è² è²¬äºº",
        "æ°¸çºŒå°ˆè²¬ / ç®¡ç†éƒ¨é–€",
        "ç¾å ´éƒ¨é–€ä¸»ç®¡ / å“¡å·¥",
        "é¡§å• / æ•™è‚²äººå“¡",
        "å­¸ç”Ÿæˆ–è‡ªç”±å­¸ç¿’è€…"
    ])

    survey_data["q5"] = st.radio("5ï¸âƒ£ æ‚¨æ˜¯å¦æœ‰ ESG æˆ–ç¢³ç›¤æŸ¥çš„ç›¸é—œç¶“é©—ï¼Ÿ", [
        "å®Œå…¨æ²’æœ‰",
        "åƒåŠ éèª²ç¨‹ä½†å°šæœªå¯¦ä½œ",
        "æœ‰åƒèˆ‡å¯¦ä½œç¶“é©—",
        "å”åŠ©å®Œæˆé ESG å ±å‘Š",
    ])

    survey_data["q6"] = st.multiselect("6ï¸âƒ£ æ‚¨æœ€æƒ³å­¸ç¿’çš„ä¸»é¡Œï¼Ÿ", [
        "ç¢³ç›¤æŸ¥åŸºç¤æ¦‚å¿µ",
        "ç”¢å“ç¢³è¶³è·¡èˆ‡æ¨™ç¤º",
        "æ¸›ç¢³ç­–ç•¥èˆ‡ç¯„ç–‡åˆ†é¡",
        "å¦‚ä½•æ’°å¯« ESG å ±å‘Š",
        "æ°¸çºŒæ¡è³¼èˆ‡å¾ªç’°ç¶“æ¿Ÿ"
    ])

    survey_data["q7"] = st.radio("7ï¸âƒ£ æ‚¨æ˜¯å¦æœ‰ç”¢å“ç¢³è¶³è·¡çš„ç›¸é—œéœ€æ±‚ï¼Ÿ", [
        "æ˜¯ï¼Œæœ‰å®¢æˆ¶æˆ–é€šè·¯è¦æ±‚",
        "é‚„æ²’æœ‰ï¼Œä½†å°‡ä¾†å¯èƒ½éœ€è¦",
        "æ²’æœ‰ï¼Œæš«ä¸è€ƒæ…®"
    ])

    survey_data["q8"] = st.radio("8ï¸âƒ£ æ‚¨åå¥½çš„å­¸ç¿’æ–¹å¼æ˜¯ï¼Ÿ", [
        "æ¢åˆ—æ¸…æ¥šã€èªªæ˜æ¦‚å¿µ",
        "å¯¦éš›æ¡ˆä¾‹å°å…¥",
        "ä¸€æ­¥ä¸€æ­¥å•ç­”å¼•å°",
        "å½±ç‰‡æˆ–åœ–è§£è¼”åŠ©",
    ])

    survey_data["q9"] = st.radio("9ï¸âƒ£ æ‚¨å¸Œæœ›ç³»çµ±å¦‚ä½•å›è¦†æ‚¨çš„æå•ï¼Ÿ", [
        "ç°¡å–®æ˜ç­ï¼ˆä¸å›‰å—¦ï¼‰",
        "åƒè€å¸«å¼•å°å­¸ç”Ÿé‚£æ¨£",
        "åƒé¡§å•çµ¦ç­–ç•¥å»ºè­°é‚£æ¨£",
        "ä¾ç…§æå•éˆæ´»èª¿æ•´"
    ])

    survey_data["q10"] = st.radio("ğŸ”Ÿ æ‚¨å¸Œæœ›ç³»çµ±çµ¦æ‚¨æ€æ¨£çš„å­¸ç¿’é«”é©—ï¼Ÿ", [
        "çµ¦æˆ‘æ¸…æ¥šç­”æ¡ˆèˆ‡æ‘˜è¦å°±å¥½",
        "ç”¨æå•æ–¹å¼å¹«æˆ‘æ€è€ƒ",
        "å¾ªåºæ¼¸é€²ã€ä¸€æ­¥æ­¥å»ºç«‹çŸ¥è­˜",
        "ä¾ç…§æˆ‘ç›®å‰ç¨‹åº¦æ¨è–¦å…§å®¹"
    ])

    # è¨ºæ–·éšæ®µé¸æ“‡
    st.markdown("### ğŸ§© è«‹é¸æ“‡æ‚¨è¦é€²è¡Œçš„è¨ºæ–·éšæ®µï¼š")
    stage_choice = st.radio(
        "æ‚¨å¸Œæœ›å¾å“ªå€‹éšæ®µé–‹å§‹ï¼Ÿ",
        ["åˆéšå•å·ï¼ˆåƒ…å«åŸºæœ¬é¡Œï¼‰", "é€²éšå•å·ï¼ˆå«å…¨éƒ¨é¡Œç›®ï¼‰"],
        index=0
    )

    survey_data["selected_stage"] = stage_choice

    submit = st.form_submit_button("ğŸš€ é–‹å§‹æ•™å­¸")

    if submit:
        # å­˜å•å·è³‡è¨Šåˆ°session_state
        st.session_state.user_intro_survey = survey_data
        st.session_state.stage = "advanced" if stage_choice == "é€²éšå•å·ï¼ˆå«å…¨éƒ¨é¡Œç›®ï¼‰" else "basic"
        st.session_state.intro_survey_submitted = True
        st.success("âœ… å•å·å®Œæˆï¼Œé–‹å§‹é€²å…¥ ESG æ•™å­¸è¨ºæ–·æµç¨‹")
        st.switch_page("app.py")

