# Canvas L4：AI 任務支援總覽

本設計圖說明 AI 在本系統中所參與的流程階段、使用到的欄位與任務角色。目的在於釐清：
- 哪些模組需要 AI 參與？
- 題庫欄位與 AI 的互動邏輯為何？
- 未來如何設計 Prompt Template 與任務規則？

---

## 🎯 AI 在系統中的任務區段（5 大功能階段）

| 階段               | AI 角色                               | 說明                                                                 |
|--------------------|----------------------------------------|----------------------------------------------------------------------|
| 1. 題目解釋輔助       | 提供背景知識與教學說明                     | 根據 `question_note` 產生補充說明，協助使用者理解題意與情境                         |
| 2. 作答後補充延伸     | 根據回答推薦延伸問題／進一步回饋              | 參考 `follow_up`、`answer_tags`，補問建議題，或提供「進一步說明」              |
| 3. 自由作答解析       | 判讀使用者自由輸入的答案，進行分類與摘要         | 若 `allow_custom_answer = true`，則進行語意判斷並對應既有選項或標籤                     |
| 4. 報告內容補強       | 自動撰寫摘要段落或建議方案                   | 根據 `learning_goal`、回答內容、標籤生成一段報告文字（未來對接 GPT 報告模組）          |
| 5. 資料標記與知識庫串接 | 將作答標籤化，便於後續查詢與向量建檔             | 使用 `answer_tags` 進行分類與記錄，便於後續建構本地知識庫或 RAG 系統連動            |

---

## 🧠 欄位與 AI 功能對應表

| 欄位名稱             | AI 功能用途                        | 範例說明                                                    |
|----------------------|-------------------------------------|-------------------------------------------------------------|
| `question_note`      | 題目前導解說明產生                     | "冷媒也屬於溫室氣體..." 作為回應說明的一部份                        |
| `follow_up`          | 延伸回應 / 下一題建議生成                | 根據使用者回答自動問：「那你們使用的冷媒類型是？」                        |
| `allow_custom_answer`| 判斷是否允許語意辨識與 NLP 模組啟動         | TRUE 時接受自由輸入，AI 需要將其轉為標籤化或與選項對應                        |
| `free_answer_note`   | 自由輸入欄提示說明                     | 如：「請簡述目前的資料管理方式」                                   |
| `answer_tags`        | 作答結果標記、知識分類、報告用欄位標註        | AI 用來分類回應：['範疇一', '冷媒管理', '資料不足']                    |
| `learning_goal`      | 教學型系統回饋、生成摘要或診斷結論使用        | AI 可根據目標自動回饋：「你已掌握排放熱點分類，建議下一步...」              |

---

## 🧩 未來可串接的 AI 模組（模組化發展建議）

| 模組名稱         | 功能說明                                              | 所需條件 / 資料來源                  |
|------------------|---------------------------------------------------------|---------------------------------------|
| GPT 教學輔助模組    | 根據題庫內容與 question_note 提供額外補充、定義、背景             | 題庫內容、定義資料庫                   |
| GPT 回答理解模組    | 判斷使用者自由輸入的語意，對應選項或標籤                               | 自由回答資料、既有選項集、標籤資料           |
| GPT 報告生成模組    | 根據回答內容與 learning_goal 組成摘要段落與報告草稿                    | 題庫回答結果、學習目標欄位、報告模板設定       |
| RAG 回答延伸模組    | 自由問答時查找內部知識庫並產生補充內容（RAG 可與回答結構整合）             | 嵌入式資料庫、回答歷史紀錄                 |

---

## 🧭 AI 任務角色總結

> AI 在本系統中非單一回覆者，而是「結構化任務協作者」，負責：
>
> - 根據題庫引導與教學（不是亂講，而是參照題庫備註與標籤）
> - 回應使用者自由回答並給予合理推進（非制式表單）
> - 協助生成學習報告或診斷建議（非單純摘要，而是對應目標）
> - 協助建構可重複使用的知識庫與標籤系統（為後續分析與優化鋪路）

---

這張 Canvas L4 是為未來與工程師、設計師、PM、模型設計者對接之基礎，若需展開 prompt 設計與模組定義，亦可由此出發。

