# Canvas L2：使用者互動流程圖（User Flow）

本設計圖針對 ESG 題庫互動系統中的使用者操作歷程進行拆解，從「進入系統」到「完成作答與產出報告」的整體互動節點與邏輯控制流程。

---

## 🎯 使用者進入起點與身份類型（後續可擴充）

目前預設為開放式答題，不需登入。
未來可擴充為：
- 一般使用者（匿名作答）
- 登入使用者（記錄進度、歷史報告）
- 顧問模式（可同時查看多位作答者資料）

---

## 🔁 使用者互動流程圖（以目前版本為基礎）

```
[ 使用者進入系統首頁 ]
            ↓
[ 選擇產業類別（餐飲 / 飯店 / 零售 / 製造 / 物流 / 辦公） ]
            ↓
[ 啟動該產業對應題庫（CSV） ]
            ↓
[ 開始作答流程 → 教學導入段 ]
            ↓
[ 教學段完成 → 進入初階問答段（25 題） ]
            ↓
[ 初階段完成 → 顯示成績簡報 / 報告摘要（約 500 字） ]
            ↓
[ 使用者選擇是否進入進階階段（30–35 題） ]
       ↓ 是         ↓ 否
[ 進階問答段開始 ]     [ 結束並下載報告 ]
       ↓
[ 完成後產出完整診斷報告（約 1000 字） ]
       ↓
[ 顯示 + 匯出報告（目前為純文字，未連資料庫） ]
```

---

## ✅ 題組邏輯控制

| 題段         | 題數量 | 是否可跳題 | 是否可自由作答 | 特性說明                                               |
|--------------|--------|-------------|------------------|--------------------------------------------------------|
| 教學導入段     | 5      | 否          | 否               | 引導性題目，固定順序，用於建立 ESG 概念與上下文理解                    |
| 初階問答段     | 25     | 否          | 視題目設定欄位       | 多為選擇題、選項設計嚴謹，題目分類對應排放源、資料能力、制度等多維面向     |
| 進階問答段     | 30–35 | 否          | 視題目設定欄位       | 題目可更細緻，允許描述現況、具備情境延伸與策略討論，為報告內容補充依據         |

---

## 🤖 與 AI 模組互動位置（呼應 L4 Canvas）

| 互動階段         | AI 參與邏輯與模組                          | 說明                                              |
|------------------|-------------------------------------------|---------------------------------------------------|
| 題目展示         | AI 教學補充（question_note）               | 顯示題目說明、背景資訊，幫助理解題目意義                      |
| 使用者作答       | AI 理解自由作答（NLP 分類模組）             | 若啟用自由作答欄位，將使用者輸入與選項標籤對應                  |
| 回答後延伸建議     | AI 延伸模組（follow_up）                   | 顯示建議延伸問題，未來可採用對話式追加方式                    |
| 完成後報告生成     | AI 報告補強模組（learning_goal, answer_tags） | 擷取回答邏輯與學習目標，產出段落式報告、策略建議                 |

---

## 🧩 延伸流程設計（未來版本）

- ❓ 加入「跳題機制」與「答題紀錄保存」功能（需前端+儲存機制）
- 🗂️ 顯示使用者作答摘要（如進度條、未完成題目數）
- 🔄 自由問答模式（RAG 問答模組切換）
- 🔐 登入後可回顧歷史作答、修改回答、追蹤改善進度

---

此 Canvas 為設計 UI 流程、程式控制流程、測試腳本的重要參考。建議與設計師/工程師共用時，搭配 Canvas L1 與 L3 同步參考。

