
## ✅ 檔案名稱建議：

```
docs/prompt_testing_plan.md
```

---

## ✅ 檔案內容如下：

```markdown
# 🧪 Prompt 測試架構與流程設計（Prompt Testing Plan）

本文件設計一套提示語（Prompt）測試策略，協助我們優化顧問式問答、向量查詢回覆、報告產生等關鍵流程。適用於：

- A/B 測試不同語氣、格式
- 觀察模型對不同 Prompt 的回應差異
- 做為提示語優化、蒐集訓練資料依據

---

## 一、測試場景分類

| 類別       | 測試重點                               |
|------------|----------------------------------------|
| 顧問問答   | 自然語氣轉換是否貼近使用者習慣         |
| 向量查詢   | 回覆是否有效使用 retrieved chunks       |
| 報告生成   | 結構清楚、用字專業又易懂               |
| 法規限定   | 模型是否遵守限制僅回應台灣段落         |
| 多語控制   | 是否正確輸出繁體中文、英文、對照格式   |

---

## 二、測試模板設計

### 顧問問答 Prompt 測試組合

| 測試編號 | Prompt 語氣範例                                 | 評估項目           |
|----------|--------------------------------------------------|--------------------|
| G001     | 「你們有做過這方面的記錄嗎？」（口語）         | 親切度、清晰度     |
| G002     | 「請問公司是否有進行溫室氣體盤查制度...」      | 專業度、冗長性     |
| G003     | 「如果公司要了解碳足跡，會從哪裡著手呢？」     | 啟發性、引導性     |

---

### 向量查詢 Prompt 測試組合

| 測試編號 | chunk 包裝方式           | Prompt 描述方式                         | 評估項目             |
|----------|--------------------------|------------------------------------------|----------------------|
| V001     | 僅放純段落文字            | 「以下段落來自參考資料...」             | 引用清楚、使用程度   |
| V002     | 加入來源頁數與標題        | 「第 2 頁 ISO-14064：標準說明如下...」   | 精確度、引用透明     |
| V003     | 摘要型 chunks（先壓縮）   | 「參考摘要如下...」                      | 壓縮品質、資訊遺失   |

---

### 報告生成 Prompt 測試組合

| 測試編號 | 語氣設計             | 評估項目                     |
|----------|----------------------|------------------------------|
| R001     | 正向鼓勵、建議為主   | 可讀性、接受度               |
| R002     | 像稽核報告語氣       | 專業性、壓力感是否過強       |
| R003     | 模擬人資報告語氣     | 多元風格測試                 |

---

## 三、測試流程建議

1. 建立固定輸入樣本（如固定問卷回覆、固定自由問題）
2. 套用不同 Prompt 組合
3. 評估以下指標：

| 指標             | 說明                                     |
|------------------|------------------------------------------|
| 精準性           | 是否切中重點、有根據                     |
| 可讀性           | 一般使用者是否能理解                     |
| 專業感           | 文字是否具可信度                         |
| 風格一致性       | 是否與顧問口吻、品牌調性一致             |
| 引用明確性       | 是否有正確標示來源（RAG 測試用）         |

---

## 四、範例測試輸入（可固定）

- 問題：「我們公司是物流業，想了解 Scope 3 如何開始？」
- 問卷摘要：

```
公司目前尚未建置溫室氣體盤查流程，對於間接排放的分類與量化方法仍不清楚。已開始蒐集供應商資料。
```

---

## ✅ 下一步建議

- 可實作一個 `prompt_test_tool.py` 來批次測試 prompt 輸出（由 GPT-4o 自評品質）
- 可將每組輸出儲存於 `prompt_test_logs/`，供未來版本追蹤差異

```

---
