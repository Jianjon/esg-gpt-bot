
# 🧾 Prompt Template 設計總覽

本文件記錄 ESG GPT 系統中使用的提示語模板（Prompt），涵蓋顧問問答、向量查詢（RAG）、報告生成等場景。目標是：

- 統一語氣與邏輯格式
- 提升回答品質
- 支援後續 A/B 測試與 RAG 擴充

---

## 一、顧問問答模式（consult_chat_app.py）

### 🎯 用途
將資料庫中的問卷問題轉為自然語氣的顧問式問法。

### 📝 Prompt 模板
```
你是一位 ESG 顧問，請針對以下問卷題目，用親切、簡短、口語化的方式，重新包裝為一段自然語氣的詢問句。

題目：「{{question_text}}」

請轉換為口語化問句，不要重複選項文字。
```

### ✅ 使用效果
輸出像這樣：

> 「在你們公司，有沒有定期記錄用電量或能源使用情況呢？」

---

## 二、向量查詢（自由問答 + RAG）

### 🎯 用途
使用者輸入問題，系統從向量庫抓出相關段落後，提供 GPT 回答。

### 📝 Prompt 模板
```
你是一位永續顧問，以下是來自多份官方文件的段落，請綜合內容簡明扼要地回答使用者的問題。

使用者問題：「{{user_question}}」

參考資料段落：
{{retrieved_chunks}}

請以條列或簡要說明方式回答。避免假設未提及的資訊。
```

### ✅ 使用注意事項
- `retrieved_chunks` 最多填 3~5 段
- 每段段落可加上標題與來源 `（第 3 頁，ISO 14064）`

---

## 三、報告生成（初階 / 進階）

### 🎯 用途
將使用者作答摘要結合知識庫，自動產出一段摘要建議

### 📝 Prompt 模板
```
以下是某中小企業在 ESG 自評問卷中的作答摘要：

{{user_summary}}

請根據內容，撰寫一份約 {{word_limit}} 字的診斷性回饋報告，內容包括：

1. 該企業目前在 ESG 上的優勢
2. 可優先改善的面向（不需指名責備）
3. 若有可能，請加上建議的行動方向（如制定目標、建立制度、採用範例）

語氣親切、正向、不浮誇，風格可近似顧問建議摘要。
```

---

## 四、進階用途（可選擴充）

| 類型         | 模板設計建議                                          |
|--------------|-------------------------------------------------------|
| 比對 baseline | 加入：「以下為該產業平均表現，可作為比較參考...」    |
| 法規查詢     | 明確限定回應來源為台灣法規段落，並標示來源章節        |
| 多語支援     | 加入：「請用繁體中文簡潔回答以下問題...」             |

---

## ✅ 使用提示語注意事項

- 避免開放式問題使用無限制 token，建議控制輸出長度
- 對長段落（如 PDF 摘要）建議先壓縮再丟入 prompt
- 若為教學情境，可加入「你正在協助對 ESG 概念不熟的人理解…」

```

---
